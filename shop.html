<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHOP</title>
</head>

<body>

    <h2>SHOP</h2>
    <hr>
    <button
        onclick='cog.data.products.unshift({title:"IPhone 120 PRO MAX ULTRA LARGE", description:"WHY ANYONE WOULD BUY THIS PHONE!", price:65999, priceCondition: function(parent, target){cog.addBound(parent.price, target);return cog.get(parent.price) > 400;}, rating:6, category:"smartphones"});'>UNSHIFT</button>
    <button onclick="cog.data.products.splice(5,4)">SPLICE</button>
    <button onclick="cog.data.products.shift()">SHIFT</button>
    <hr>
    <button
        onclick='cog.data.products.push({title:"IPhone 120 PRO MAX ULTRA LARGE", description:"WHY ANYONE WOULD BUY THIS PHONE!", price:65999, priceCondition: function(parent, target){cog.addBound(parent.price, target);return cog.get(parent.price) > 400;}, rating:6, category:"smartphones"});'>PUSH</button>
    <button onclick="cog.data.products.pop()">POP</button>
    <button onclick="cog.data.products.splice(cog.data.products.length-10,5)">SPLICE</button>
    <hr>
    <p>total of {{products._length}} products</p>
    <table>
        <tbody cog-repeat="productsTemp;i;products">
            <tr cog-prop="if:[{{i.title}} == 'Huawei P30', {style:{color:{{color}}}}]"
                cog-prop2="if:[{{i._index}} % 2 == 0, {style:{backgroundColor:'#eee'}}]">
                <td>{{i._index}} {{i.title}}</td>
                <td>{{i.description}}</td>
                <td cog-prop="if:[{{i.priceCondition}}, {style:{color:'#f00'}}]">{{i.price}} $</td>
                <td>{{i.rating}}</td>
                <td>{{i.category}}</td>
            </tr>
        </tbody>
    </table>
    <button
        onclick='cog.data.products.unshift({title:"IPhone 120 PRO MAX ULTRA LARGE", description:"WHY ANYONE WOULD BUY THIS PHONE!", price:65999, priceCondition: function(parent, target){cog.addBound(parent.price, target);return cog.get(parent.price) > 400;}, rating:6, category:"smartphones"});'>UNSHIFT</button>
    <button onclick="cog.data.products.splice(5,4)">SPLICE</button>
    <button onclick="cog.data.products.shift()">SHIFT</button>
    <hr>
    <button
        onclick='cog.data.products.push({title:"IPhone 120 PRO MAX ULTRA LARGE", description:"WHY ANYONE WOULD BUY THIS PHONE!", price:65999, priceCondition: function(parent, target){cog.addBound(parent.price, target);return cog.get(parent.price) > 400;}, rating:6, category:"smartphones"});'>PUSH</button>
    <button onclick="cog.data.products.pop()">POP</button>
    <button onclick="cog.data.products.splice(cog.data.products.length-10,5)">SPLICE</button>



    <script src="dist/cog.js"></script>
    <script>
        cog.data.color = "#f83";
        cog.xhr("products.json", function (xhr) {
            cog.data.products = JSON.parse(xhr.responseText).products;
            cog.data.products = cog.data.products.concat(cog.data.products).concat(cog.data.products).concat(cog.data.products).concat(cog.data.products).concat(cog.data.products).concat(cog.data.products);
            for (var i = 0; i < cog.data.products.length; i++) {
                cog.data.products[i].priceCondition = function (parent, target) {
                    cog.addBound(parent.price, target);
                    return cog.get(parent.price) > 400;
                };
            }
            cog.render();
        });
    </script>
</body>

</html>